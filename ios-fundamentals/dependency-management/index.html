<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Swift Refresher"/><link rel="canonical" href="https://swiftrefresher.com/ios-fundamentals/dependency-management"/><meta name="twitter:url" content="https://swiftrefresher.com/ios-fundamentals/dependency-management"/><meta name="og:url" content="https://swiftrefresher.com/ios-fundamentals/dependency-management"/><title>iOS Dependency Management | Swift Refresher</title><meta name="twitter:title" content="iOS Dependency Management | Swift Refresher"/><meta name="og:title" content="iOS Dependency Management | Swift Refresher"/><meta name="description" content="Manage your libraries like a pro!"/><meta name="twitter:description" content="Manage your libraries like a pro!"/><meta name="og:description" content="Manage your libraries like a pro!"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Swift Refresher"/></head><body class="bg-white font-sans leading-normal tracking-normal"><div class="pb-16"><nav class="fixed z-10 bg-gray-900 p-4 mt-0 w-full overflow-auto scrolling-touch"><div class="container mx-auto flex items-center"><div class="flex-shrink-0 text-white font-extrabold"><a class="flex text-white text-base no-underline hover:text-white hover:no-underline" href="/"><span class="block md:hidden md:w-auto pl-1">üèù</span><span class="hidden md:block w-0 md:w-auto pl-1">Swift Refresher</span></a></div><div class=" flex flex-no-wrap pl-4 text-sm"><ul class="list-reset flex justify-between items-center"><li class="mr-2"><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2" href="/">HOME</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2 whitespace-no-wrap" href="/leetcode">LEETCODE</a></li><li><a class="inline-block py-2 px-2 text-white no-underline hover:underline whitespace-no-wrap" href="/ios-fundamentals">IOS-FUNDAMENTALS</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2 whitespace-no-wrap" href="/SwiftUI">SWIFTUI</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2 whitespace-no-wrap" href="/combine">COMBINE</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-2 whitespace-no-wrap" href="/about">ABOUT</a></li></ul></div></div></nav></div><div class="text-center pt-16 md:pt-32"><p class="text-xs md:text-sm text-casper-blue font-bold">18 OCTOBER 2022<span class="text-gray-900 px-1">/</span><a href="/tags/iosfundamentals">IOS-FUNDAMENTALS</a></p><h1 class="font-bold break-normal text-3xl md:text-5xl max-w-6xl mx-auto">iOS Dependency Management</h1></div><div class="container max-w-5xl mx-auto "><div class="mx-0 sm:mx-6"><main class="bg-white w-full p-8 md:p-24 text-gray-800 leading-normal"><article class="prose prose-sm sm:prose-xl break-words"><h1>iOS Dependency Management</h1><h2>Overview</h2><p>In 2022, the majority of large-scale production apps use 3rd party libraries. Companies want to ship new features, and do not want to re-invent the wheel when it comes to common things like animations, networking, or even some common views apple may not give us. 3rd party libraries are everywhere! But as your app grows, it can get pretty nasty dealing with all the different libraries, and keeping the versions in line with your dependency tree. Another big advantage of dependency managers is backwards compatibility. If a framework updates its code, you can still support older versions of the framework without having to change anything in your project.</p><p>With some open source frameworks you could statically import all the code/dependency versions you need by hand, but that is unneeded work! The iOS ecosystem has evolved enough to give us several ways of managing our 3rd party dependencies in our app. Let's take a look at how to set up each one, and the pros/cons of each.</p><h3>Semantic Versioning</h3><p>I would be remiss to not mention <a href="https://semver.org/">semantic versioning</a> here. All of the dependency managers here will likely use some type of semantic versioning when it comes to listing the dependencies of our project. The versions of dependencies are defined by MAJOR, MINOR, and PATCH versioning numbers in the form of 1.2.3 . As you can guess, big code changes are MAJOR, medium code changes are MINOR, and small fixes are patches. Using semantic versioning, we can define greater than, less than, equal to, compatible with, etc versions for 3rd party libraries!</p><h3>CocoaPods</h3><p>Feel free to visit the <a href="https://cocoapods.org/">cocoapods website</a> if you want to learn about all the different pods that are available for iOS.</p><p>If you do not have cocoapods installed on your machine, feel free to run the following command in terminal:</p><pre><code><div class="highlight"><span></span><span class="n">sudo</span> <span class="n">gem</span> <span class="n">install</span> <span class="n">cocoapods</span> <span class="o">&amp;&amp;</span> <span class="n">pod</span> <span class="n">setup</span> <span class="o">--</span><span class="n">verbose</span>
</div></code></pre><p>This will install cocoapods on your machine. Next you will want to <strong>cd</strong> into the directory where your xcode project lives, and run:</p><pre><code><div class="highlight"><span></span><span class="n">touch</span> <span class="n">Podfile</span>
</div></code></pre><p>Which will create a Podfile for your project. A Podfile just describes the dependencies of the targets of one or more Xcode projects. Next you will want to open up the Podfile with your favorite text editor and tell the Podfile you want to use frameworks for your project. It should look like this:</p><pre><code><div class="highlight"><span></span><span class="n">platform</span> <span class="p">:</span><span class="n">ios</span><span class="p">,</span> <span class="err">&#39;</span><span class="mf">16.0</span><span class="err">&#39;</span>

<span class="n">target</span> <span class="err">&#39;</span><span class="p">&lt;</span><span class="n">Your</span> <span class="n">Target</span><span class="p">&gt;</span><span class="err">&#39;</span> <span class="k">do</span>
  <span class="n">use_frameworks</span><span class="p">!</span>
<span class="n">end</span>
</div></code></pre><p>This tells your project to use frameworks instead of static libraries. Reminder that <strong>frameworks</strong> allow you to bundle images &amp; assets, while static libraries do not. Now time to add a Pod (framework)! Change your Podfile to this:</p><pre><code><div class="highlight"><span></span><span class="n">platform</span> <span class="p">:</span><span class="n">ios</span><span class="p">,</span> <span class="err">&#39;</span><span class="mf">16.0</span><span class="err">&#39;</span>

<span class="n">target</span> <span class="err">&#39;</span><span class="n">CocoaPods</span><span class="err">&#39;</span> <span class="k">do</span>
  <span class="n">use_frameworks</span><span class="p">!</span>
  <span class="n">pod</span> <span class="err">&#39;</span><span class="n">Alamofire</span><span class="err">&#39;</span><span class="p">,</span> <span class="err">&#39;</span><span class="mf">4.9</span><span class="p">.</span><span class="mi">1</span><span class="err">&#39;</span>
<span class="n">end</span>
</div></code></pre><p>This will add the Alamofire Pod at version 4.9.1 to our project. In the terminal run <strong>pod install</strong> to finalize. Now make sure you open the newly created <strong>.xcworkspace</strong> in your project directory, and pick a file. You should be able to build &amp; then <strong>import Alamofire</strong>!</p><h3>Carthage</h3><p>Similar to Cocoapods, Carthage is a 3rd party dependency manager...with a little different of a setup.</p><p>Lets start with installation. Go ahead and run <strong>brew install carthage</strong> in the terminal.</p><p>Similar to Cocoapods we will create a Cartfile, allowing us to list all of our dependencies in our project.</p><pre><code><div class="highlight"><span></span><span class="n">touch</span> <span class="n">Cartfile</span>
</div></code></pre><p>and then open your newly created Cartfile with whatever text editor you prefer. Now add the following line to the Cartfile:</p><pre><code><div class="highlight"><span></span><span class="n">github</span> <span class="s">&quot;Alamofire/Alamofire&quot;</span> <span class="p">==</span> <span class="mf">4.9</span><span class="p">.</span><span class="mi">0</span>
</div></code></pre><p>This specifies the exact version of Alamofire we want for our project. We can also use "&gt;=" to specify a version greater than or equal to a semantic version number. OR we can use "~&gt;" specifying Carthage to use 'Use any version that‚Äôs compatible with X'. We can also specify branches of the library or git Hash commits to use. Very powerful!</p><p>Now in our terminal enter the following:</p><pre><code><div class="highlight"><span></span><span class="n">carthage</span> <span class="n">update</span> <span class="o">--</span><span class="n">platform</span> <span class="n">iOS</span>
</div></code></pre><p>Next we can see what Carthage has built &amp; checked out for us by entering <strong>open Carthage</strong> in terminal. This is where Carthage differs from cocoapods a little bit. With Carthage we need to manually integrate the Binary Frameworks into our project. We can do this by going to our Target in Xcode, and scroll to the Linked Frameworks and Libraries section. Drag the Alamofire.framework from the Carthage directory into this section in Xcode. This links those frameworks to your project.</p><p>Easy Peasy!!</p><h3>Swift Package Manager</h3><p>And now it is time to introduce you to my personal favorite dependency manager, SPM or Swift Package Manager. Swift can divide code into "Packages".</p><p>Lets say we have a project in which we have to decipher some Yaml files. We could build this ourselves from scratch, or we could use an existing Library!</p><p>In Xcode go to File &gt; Add Packages and enter the URL of the package. In our case we will be using one hosted on Git, with the URL of https://github.com/jpsim/Yams.git . We can define any versioning we want for this package. Also, SPM automatically links the package to our project target! Neat!</p><p>Packages are very powerful because they keep our code extensible and modularized. If we have a grand scale application, we can break it down by feature, and each feature can have its own Package manifest file if we so desired. The scalability benefits here are very evident.</p><p>As you can see, the ease of use &amp; Xcode integration make SPM a fan favorite!</p><h3>Tradeoffs</h3><p>So now we have touched on SPM, Cocoapods, and Carthage. What are some of the pros and cons of each?</p><h4>Cocoapods:</h4><h5>Pros:</h5><ul><li>Supports both Dynamic Frameworks and Static Libraries</li><li>Automatic dependency tree resolution</li><li>Wide range of availability and documentation</li><li>Has an official mac app to manage your dependencies</li></ul><h5>Cons:</h5><ul><li>Slower build times, because every time you compile, your dependencies get built as well</li><li>When you install your first dependency, the main specs repo gets downloaded, and it takes a very long time</li><li>Your main project will be altered to be able to use all of your 3rd party dependencies</li></ul><h4>Carthage:</h4><h5>Pros:</h5><ul><li>Supports both Dynamic Frameworks and Static Libraries</li><li>Automatic dependency tree resolution</li><li>Faster than Cocoapods because your frameworks only get built once, on the first time you call "carthage update"</li><li>Your project remains untouched, unlike Cocoapods</li></ul><h5>Cons:</h5><ul><li>Little steeper learning curve, and more steps to actually add a dependency</li><li>Limited framework capacity. Not everyone supports Carthage</li></ul><h4>SPM:</h4><h5>Pros:</h5><ul><li>The Apple standard, on how to build and distribute code</li><li>Works on Linux</li><li>Less steps to bootstrap and get started</li></ul><h5>Cons:</h5><ul><li>You have to follow a specific directory structure structure</li><li>Swift Only!</li></ul></article></main><div class="flex flex-wrap w-full items-center font-sans p-8 md:p-24"><div class="md:flex-1 flex"><img class="w-10 h-10 rounded-full mr-4" src="https://asteezy24.github.io/assets/images/image01.jpg" alt="Alex Stevens"/><div class="flex-1"><p class="text-base font-bold text-base md:text-xl leading-none">Alex Stevens</p><p class="text-gray-600 text-xs md:text-base">iOS Software Engineer</p></div></div><div class="mt-8 md:mt-0 mx-auto md:mx-0 md:justify-end"><a class="bg-transparent border border-gray-500 hover:border-casper-blue text-xs text-gray-500 hover:text-casper-blue font-bold py-2 px-4 rounded-full" href="/tags">All tags</a></div></div></div></div><div class="bg-gray-200"><div class="container w-full max-w-6xl mx-auto px-2 py-8"><div class="grid grid-cols-1 sm:grid-cols-3 gap-12"><div class="w-full  py-6 flex flex-col flex-grow flex-shrink transform transition duration-200 ease-in-out hover:scale-105"><div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg"><a href="/ios-fundamentals/arrays" class="flex flex-wrap no-underline hover:no-underline"><img src="/array.jpeg" class="h-64 w-full rounded-t object-cover"/><p class="w-full text-casper-blue text-xs font-medium pt-6 px-6">IOS-FUNDAMENTALS</p><div class="w-full font-bold text-2xl text-gray-900 px-6">Arrays Overview</div><p class="text-gray-800 font-serif text-lg px-6 mb-5">Programmers best friend</p></a></div><div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6"><div class="flex items-center justify-between"><img class="w-8 h-8 rounded-full mr-4 avatar" src="https://asteezy24.github.io/assets/images/image01.jpg" alt="Alex Stevens"/><p class="text-gray-600 text-xs md:text-sm">8 MIN READ</p></div></div></div></div></div></div><footer class="bg-gray-900"><div class="container max-w-6xl mx-auto flex items-center px-2 pt-2 pb-8"><div class="w-full mx-auto flex flex-wrap items-center"><div class="flex w-full md:w-1/2 justify-center md:justify-start text-white font-extrabold"><p><a class="text-gray-900 no-underline hover:text-gray-900 hover:no-underline" href="#"><span class="text-base text-gray-200">Swift Refresher</span></a></p></div><div class="flex w-full pt-2 content-center justify-between md:w-1/2 md:justify-end"><ul class="list-reset flex justify-center flex-1 md:flex-none items-center"><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="/">Latest Posts</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="https://github.com/JohnSundell/Publish">Publish</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline py-2 px-3 text-sm" href="https://ghost.org">Ghost</a></li><li><a class="inline-block text-gray-600 no-underline hover:text-gray-200 hover:underline px-3 text-sm" href="/feed.rss"><svg class="fill-current h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg></a></li></ul></div></div></div></footer></body></html>